<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <form action="list.board" name="joinForm">
        <h3>가입창</h3>
        아이디: <input type="text" name="id" placeholder="문자와 숫자" onkeypress="enter(event)"><br>
        비밀번호: <input type="password" name="pw" placeholder="숫자,영문,특수문자 1개이상" onkeypress="enter(event)"><br>
        <생략><br>

        <button type="button" onclick="joinCheck()">가입하기</button>

    </form>

    <script>
        function joinCheck() {

            // var regExp = /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\(\\)\-_=+]).{4,8}$/; //{ }길이
            // if( !regExp.test("aaabbb1!") ) { //조건을 만족하지 않을 때
            //     console.log("정규표현식 만족하지 않음");
            // }

            var regExp1 = /^[a-z]+[A-Za-z0-9]{5,10}$/g; //id 정규표현식, 6~11글자
            var regExp2 = /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\(\\)\-_=+]).{4,8}$/; //pw 정규표현식

            var form = document.joinForm; //폼태그
            
            //1. id 검사
            if( !regExp1.test(form.id.value) ) { //폼의 id속성의 value가 맞지않다면
                alert("영문자, 숫자 5~11글자 사이입니다.");
                form.id.focus();
                return;

            //2. pw 검사
            } else if( !regExp2.test(form.pw.value) ) {
                alert("숫자, 영문자, 특수문자 포함 4~8글자 입니다.");
                form.pw.focus();
                return;

            //3. form 보내기
            } else { //위에서 검사를 다 하면
                form.submit(); //폼을 전송
            }

        }

        //UX 엔터키값 처리 - 엔터는 키보드 이벤트
        function enter(e) {
            console.log(e); //KEY, KEYCODE 확인, enter=13번임
            if(e.keyCode == 13) { //entet event 객체 안에 keyCode, keyCode는 사용자가 누른 키보드 번호
                joinCheck();
            }
        }



    </script>

</body>
</html>